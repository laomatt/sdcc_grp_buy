<p id="notice"><%= notice %></p>
<p>
  <strong>Day:</strong>
  <%= @line_day.day %>
</p>

<p>
  <strong>Description:</strong>
  <%= @line_day.description %>
</p>
<% 
		time_slots_infos = @line_day.time_slots.map { |e| e.present_info }
    time_slots_infos.each do |slot|
      slot['authenticity_token'] = form_authenticity_token
    end
%>
<%= javascript_pack_tag 'application' %>
<div class="centered">
	<%= react_component("LineDaySchedule", { 
			day: @line_day.id, 
			time_slots: time_slots_infos,
			is_admin: current_user.is_admin?
		}) %>
</div>


<% if current_user.is_admin? %>
	<div class="container">
		<%= render :partial => 'line_day/time_slots/form' %>
	</div>
<% end %>
<style>

	.timerow {
		background-color: transparent;
	}

	.time_slot {
		width: 100%;
	}
	
	.centered {
		text-align: center;
	}

	.list-grp-detail {
		display: none; padding: 3px;
	}

	.expand-slot {
		width: 70%;
	}

	tr:hover {
		background-color: red;
	}
</style>


<script>
// pop up modal
$('body').on('click', '.broadcast-message', function(event) {
	event.preventDefault();
	$('.time-slot-modal-body').fadeIn(500, function() {});
});

// delete
$('body').on('click', '.delete-slot', function(event) {
	event.preventDefault();
	$.ajax({
		url: $(this).attr('href'),
		type: 'DELETE'
	})
	.done(function(data) {
	})
	
});
// edit

//expand
$('body').on('click', '.expand-slot', function(event) {
	event.preventDefault();
	$('#info-' + $(this).attr('data-id')).toggle(400);
});

//sign up

$('body .modal-footer').on('click', '.send_text', function(event) {
	event.preventDefault();
	// send the text to the group
});

</script>




<div id="timeSlotContactModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content time-slot-modal-body">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Time Slot Contact</h4>
      </div>
      <div class="modal-body">
        <textarea name="broadcast_to_slot" data-id="" cols="50" rows="20"></textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="send_text btn btn-default" data-dismiss="modal">Send</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<p id="notice"><%= notice %></p>

<p>
  <strong>Day:</strong>
  <%= @line_day.day %>
</p>

<p>
  <strong>Description:</strong>
  <%= @line_day.description %>
</p>


<div class="centered">
		
	<% @time_slots.each do |time| %>
				<a href="#" data-id='<%= time.id %>' class='expand-slot btn btn-lg btn-primary time_slot centered' style="width:70%">
					<b>
				    <%= time.present_time %>:  
					</b>
					    (<%= time.present_people %>)
				</a>
		<!-- broadcast to everyone in this time slot -->


	<!-- user list -->
	<div class="" id="info-<%= time.id %>" style="display: none; padding: 3px;">
			<div class="contact-list">
				<%= render :partial => 'holders/form', :locals => {:holder => Holder.new, :slot_id => time.id} %>
				<!-- list of all holders -->
				<!-- button to contact them -->
			<a href="#" class='broadcast-message btn btn-lg btn-primary'>Broadcast a message to this group</a>


			</div>

		<% if current_user.is_admin? %>
				<a href="#" data-id='<%= time.id %>' class='modal-pop edit-slot centered btn btn-lg btn-warning'>Edit</a>
				<a href="#" data-id='<%= time.id %>' class='modal-pop delete-slot centered btn btn-lg btn-danger'>Delete</a>
		<% end %>
	</div>
	<% end %>

	<% if current_user.is_admin? %>
		<div class="container">
			<%= render :partial => 'line_day/time_slots/form' %>
		</div>
	<% end %>

</div>

<style>

	.timerow {
		background-color: transparent;
	}

	.time_slot {
		width: 100%;
	}
	
	.centered {
		text-align: center;
	}

	tr:hover {
		background-color: red;
	}
</style>


<script>
// pop up modal
$('body').on('click', '.broadcast-message', function(event) {
	event.preventDefault();
	$('.time-slot-modal-body').fadeIn(500, function() {});
});

// delete

// edit

//expand
$('body').on('click', '.expand-slot', function(event) {
	event.preventDefault();
	$('#info-' + $(this).attr('data-id')).toggle(400);
});

//sign up

</script>




<div id="timeSlotContactModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content time-slot-modal-body">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Time Slot Contact</h4>
      </div>
      <div class="modal-body">
        <textarea name="broadcast_to_slot" data-id="" cols="100" rows="20"></textarea>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>